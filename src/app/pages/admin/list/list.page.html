<ion-header>
  <ion-toolbar color="primary">
    <ion-buttons slot="end">
      <ion-button (click)="cadastrar()">
        <ion-icon name="add"></ion-icon>
      </ion-button>
    </ion-buttons>
    <ion-title>Pedidos dos Usuários</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <ion-progress-bar *ngIf="(!(pedidos$ | async)?.rows?.length)" type="indeterminate"></ion-progress-bar>

  <!-- Default Refresher -->
  <ion-refresher slot="fixed" (ionRefresh)="onRefresh($event)">
    <ion-refresher-content pullingIcon="arrow-dropdown" pullingText="Puxe para atualizar" refreshingSpinner="circles"
      refreshingText="Atualizando...">
    </ion-refresher-content>
  </ion-refresher>

  <!-- <ion-row style="justify-content: center; margin-top: 10px;">
    <ion-button (click)="cadastrar()">Cadastrar Produtos</ion-button>
  </ion-row> -->
  <ion-chip style="background-color: white;" outline color="tertiary">
      <ion-icon name="restaurant"></ion-icon>
      <ion-label>{{(pedidos$ | async)?.count}} Pedidos</ion-label>
      <ion-icon name="close-circle"></ion-icon>
    </ion-chip>

  <ion-card (click)="buscarId(pedidos?.id)" *ngFor="let pedidos of (pedidos$ | async)?.rows">
    <ion-item lines="none">
      <ion-label>
        <ion-text color="primary">id </ion-text>{{pedidos?.id}}
        <ion-text color="primary" style="padding-left: 25px;">
          Hora</ion-text>
        {{pedidos?.createdAt | date: 'hh:mm:ss'}}
      </ion-label>
    </ion-item>
    <ion-item lines="none">
      <ion-label style="margin-top: 0;margin-bottom: 0;">
        <ion-text style="padding-right: 11px;" color="primary">Cliente</ion-text>
        {{pedidos?.usuario?.nome}}
      </ion-label>
    </ion-item>
    <ion-item lines="none">
      <ion-label style="margin-top: 0;margin-bottom: 0;">
        <ion-text style="padding-right: 14px;" color="primary">Status</ion-text>
        {{pedidos?.statusPedido?.descricao}}
      </ion-label>
    </ion-item>
    <ion-item *ngIf="pedidos?.observacao" lines="none">
      <ion-label style="margin-top: 0;margin-bottom: 0;">
        <ion-text style="padding-right: 14px;" color="primary">Observação</ion-text>
        {{pedidos?.observacao}}
      </ion-label>
    </ion-item>
  </ion-card>

</ion-content>